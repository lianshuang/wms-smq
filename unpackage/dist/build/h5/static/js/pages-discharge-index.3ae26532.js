(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-discharge-index"],{"5e45":function(t,e,n){"use strict";n.r(e);var a=n("a6f5"),i=n("b917");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);var r,u=n("f0c5"),s=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,"30f60454",null,!1,a["a"],r);e["default"]=s.exports},"66fd":function(t,e,n){"use strict";var a=n("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.get_intranet=e.printer=e.finish_task=e.position_search=e.sku_search=e.pick_ship_pick_order=e.nextStep=e.getStep=e.getInfo=e.login=void 0;var i=a(n("ef92")),o=function(t){return i.default.post("auth/login/",t||{})};e.login=o;var r=function(t){return i.default.get("auth/info/",t||{})};e.getInfo=r;var u=function(t){return i.default.post("api/scanner/get_step/",t)};e.getStep=u;var s=function(t){return i.default.post("api/scanner/next_step/",t||{})};e.nextStep=s;var c=function(t){return i.default.post("api/scanner/pick_ship_pick_order/",t||{})};e.pick_ship_pick_order=c;var d=function(t){return i.default.post("api/scanner/sku_search/",t||{})};e.sku_search=d;var f=function(t){return i.default.post("api/scanner/position_search/",t||{})};e.position_search=f;var l=function(t){return i.default.post("api/scanner/finish_task/",t||{})};e.finish_task=l;var p=function(t,e){return i.default.post(t+":8001/",e||{})};e.printer=p;var g=function(){return i.default.get("api/dicts/",{page:1,size:1e5,key:"intranet"}||{})};e.get_intranet=g},a6f5:function(t,e,n){"use strict";var a,i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view")},o=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}))},b917:function(t,e,n){"use strict";n.r(e);var a=n("e884"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},e884:function(t,e,n){"use strict";var a=n("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("f3f3")),o=n("66fd"),r={data:function(){return{}},onLoad:function(t){this.getStep(t.type)},created:function(){},methods:{getStep:function(t){var e=this;uni.showLoading({title:"加载中",mask:!0}),(0,o.getStep)({type:t}).then((function(t){console.log(t),200===t.code&&(e.getStepRouter(t.data.step),getApp().globalData.request=(0,i.default)({},getApp().globalData.request,{},t.data.params)),uni.hideLoading()})).catch((function(t){uni.hideLoading()}))}}};e.default=r},ef92:function(t,e,n){"use strict";var a=n("ee27");n("99af"),n("caad"),n("a9e3"),n("d3b7"),n("2532"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("f0c4")),o=function(t,e){var n=e;return n},r=function(){uni.clearStorageSync(),uni.reLaunch({url:"/pages/login/Login"})},u=function(t,e){if(console.error("----接口错误----"),console.log(t),t.data){if(t.data.code)switch(Number(t.data.code)){case 401:r();break}e(t.data)}else e({msg:"接口錯誤"})},s=function(t,e,n){var a="",r={};switch(t){case"get":a="GET",r={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"};break;case"post":a="POST",r={"Content-Type":"application/json; charset=UTF-8"};break;case"postForm":a="POST",r={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"};break}var s=!1,c="loading...";return n&&(n.hideLoading&&(s=n.hideLoading,delete n.hideLoading),n.loadingText&&(c=n.loadingText,delete n.loadingText)),new Promise((function(t,d){!s&&uni.showLoading({title:c}),e.includes("login")||(r["Authorization"]="Bearer "+getApp().globalData.token);var f=e.includes("127")||e.includes("192")?e:"".concat(i.default.BASE_URL).concat(e);uni.request({url:f,method:a,data:o(e,n),header:r,success:function(e){if(200==e.statusCode)401===e.data.code&&"Signature has expired."===e.data.detail&&"Auth failed"===e.data.message?(uni.showToast({title:"登陆已失效",mask:!0,duration:2e3,icon:"none",position:"top"}),setTimeout((function(){getApp().globalData={token:"",userInfo:{},request:{}},uni.clearStorageSync(),uni.redirectTo({url:"../../pages/login/index"})}),2010)):t(e.data);else{var n=e.statusCode+(e.data.detail?":"+e.data.detail:"");uni.showToast({title:n,mask:!0,duration:2e3,icon:"none",position:"top"}),d({msg:"请求錯誤（"+e.statusCode+(e.data.detail?":"+e.data.detail:"")+")"})}},fail:function(t){u(t,d)},complete:function(){uni.hideLoading()}})}))},c=function(t,e){var n=e||{};return uni.showLoading({title:"上传中...",mask:!0}),new Promise((function(e,a){uni.uploadFile({url:"".concat(i.default.BASE_URL).concat(t),filePath:n.file,name:"file",formData:n,success:function(t){if(200==t.statusCode){var n=JSON.parse(t.data);200==n.code?e(n):(a(n),uni.showToast({title:n.msg||"接口错误("+n.code+")",icon:"none"}))}else uni.showToast({title:"未知错误(".concat(t.statusCode,")"),icon:"none"})},fail:function(t){uni.showToast({title:"接口请求超时",icon:"none"}),a(t.data)},complete:function(){uni.hideLoading()}})}))},d={get:function(t,e){return s("get",t,e)},post:function(t,e){return s("post",t,e)},postForm:function(t,e){return s("postForm",t,e)},upload:function(t,e){return c(t,e)}};e.default=d}}]);