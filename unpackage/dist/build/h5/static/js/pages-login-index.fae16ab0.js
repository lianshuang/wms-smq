(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-index"],{"03b1":function(t,n,e){var i=e("8c86");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=e("4f06").default;a("12800a78",i,!0,{sourceMap:!1,shadowMode:!1})},"07dd":function(t,n,e){"use strict";var i,a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"a_mask"},[e("v-uni-form",{staticClass:"a_box",on:{submit:function(n){arguments[0]=n=t.$handleEvent(n),t.formSubmit.apply(void 0,arguments)},reset:function(n){arguments[0]=n=t.$handleEvent(n),t.formReset.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"a_head"},[t._v(t._s(t.title))]),e("v-uni-view",{staticClass:"a_input"},[e("v-uni-input",{attrs:{type:t.type,value:t.value,placeholder:t.placeholder,name:t.name}})],1),e("v-uni-view",{staticClass:"a_btn"},[e("v-uni-button",{style:{color:t.cancelColor},attrs:{"form-type":"reset"}},[t._v(t._s(t.cancelText))]),e("v-uni-button",{style:{color:t.confirmColor},attrs:{"form-type":"submit"}},[t._v(t._s(t.confirmText))])],1)],1)],1)},o=[];e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return i}))},"231b":function(t,n,e){var i=e("24fb");n=i(!1),n.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.a_mask[data-v-52350e39]{position:fixed;z-index:99999;background-color:rgba(0,0,0,.5);top:0;left:0;bottom:0;right:0}.a_mask .a_box[data-v-52350e39]{width:90%;padding-top:%?30?%;overflow:hidden;background-color:#fff;border-radius:%?10?%;position:absolute;top:45%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.a_mask .a_box .a_head[data-v-52350e39]{text-align:center;font-size:%?30?%;line-height:%?88?%}.a_mask .a_box .a_input[data-v-52350e39]{padding:%?30?% %?20?%;font-size:%?28?%}.a_mask .a_box .a_input uni-input[data-v-52350e39]{text-align:center}.a_mask .a_box .a_btn[data-v-52350e39]{text-align:center;font-size:%?30?%;line-height:%?88?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;border-top:%?1?% solid #f5f5f5}.a_mask .a_box .a_btn uni-button[data-v-52350e39]{width:50%;background-color:#fff;font-size:%?30?%;border-radius:%?0?%;padding:0}.a_mask .a_box .a_btn uni-button[data-v-52350e39]::after{border:none}.a_mask .a_box .a_btn uni-button[data-v-52350e39]:first-child{border-right:%?1?% solid #f5f5f5;color:#999;box-sizing:border-box}.a_mask .a_box .a_btn uni-button[data-v-52350e39]:last-child{color:#333}',""]),t.exports=n},3988:function(t,n,e){"use strict";e.r(n);var i=e("07dd"),a=e("a0a5");for(var o in a)"default"!==o&&function(t){e.d(n,t,(function(){return a[t]}))}(o);e("6656");var r,s=e("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"52350e39",null,!1,i["a"],r);n["default"]=c.exports},"424c":function(t,n,e){"use strict";var i=e("03b1"),a=e.n(i);a.a},4278:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i={props:{title:{type:String,default:"提示"},placeholder:{type:String,default:"请点击输入"},name:{type:String,default:"text"},type:{type:String,default:"text"},value:{type:String,default:""},cancelColor:{type:String,default:"#999999"},confirmColor:{type:String,default:"#333333"},cancelText:{type:String,default:"取消"},confirmText:{type:String,default:"确定"}},data:function(){return{}},methods:{formSubmit:function(t){console.log(t);var n=t.detail.value;this.$emit("confirm",n)},formReset:function(t){this.$emit("cancel")}}};n.default=i},6656:function(t,n,e){"use strict";var i=e("c2d4"),a=e.n(i);a.a},"6b8c":function(t,n,e){"use strict";var i=e("ee27");e("d3b7"),e("8a79"),e("2ca0"),e("498a"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("96cf");var a=i(e("c964")),o=i(e("3988")),r=i(e("f0c4")),s=e("66fd"),c={data:function(){return{username:"",password:"",submiting:!1,firstEnter:!0,environment:"",cancelShow:!1,base:{}}},components:{hFormAlert:o.default},onShow:function(){this.checkLogin()},onLoad:function(t){this.checkLogin()},created:function(){console.log("on create--------------"),this.environment="production",console.log(r.default),this.base=r.default},methods:{confirm:function(t){var n=t.host.trim();n&&(n.startsWith("http")||(n="http://"+n),n.endsWith("/")||(n+="/"),console.log(n),this.base.BASE_URL=n,uni.setStorageSync("BASE_URL",n),this.cancelShow=!1)},cancel:function(){this.cancelShow=!1},checkLogin:function(){if(getApp().globalData.token)this.getInfo();else{if(!uni.getStorageSync("token"))return;getApp().globalData.token=uni.getStorageSync("token"),this.getInfo()}},checkForm:function(){var t=this;return new Promise((function(n,e){t.username&&t.password?n(!0):n(!1)}))},login:function(){var t=this;return(0,a.default)(regeneratorRuntime.mark((function n(){var e,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.checkForm();case 2:if(e=n.sent,e){n.next=6;break}return uni.showToast({title:"请输入账号密码",mask:!0,duration:2e3,icon:"none",position:"top"}),n.abrupt("return");case 6:i={username:t.username,password:t.password},t.submiting=!0,(0,s.login)(i).then((function(n){uni.setStorageSync("token",n.token),getApp().globalData.token=n.token,t.getInfo()})).catch((function(n){console.log("错误"),t.submiting=!1}));case 9:case"end":return n.stop()}}),n)})))()},getInfo:function(){var t=this;(0,s.getInfo)({}).then((function(n){n.id?(getApp().globalData.userInfo=n,uni.setStorageSync("userInfo",JSON.stringify(n)),t.$setUsername(n.username),uni.navigateTo({url:"../index/index"})):uni.showToast({title:n.message,mask:!0,duration:2e3,icon:"none",position:"top"}),t.submiting=!1})).catch((function(n){t.submiting=!1}))}}};n.default=c},"77a71":function(t,n,e){"use strict";var i,a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"login"},[e("v-uni-view",{staticClass:"login-box"},[e("v-uni-view",{staticClass:"title"},[t._v("WMS SMQ")]),e("v-uni-view",{staticClass:"login-input"},[e("v-uni-text",{staticClass:"lebel"},[t._v("账号:")]),e("v-uni-input",{staticClass:"uni-input",attrs:{focus:!0,placeholder:"请输入账号"},on:{confirm:function(n){arguments[0]=n=t.$handleEvent(n),t.login()},fu:function(n){arguments[0]=n=t.$handleEvent(n)}},model:{value:t.username,callback:function(n){t.username=n},expression:"username"}})],1),e("v-uni-view",{staticClass:"login-input"},[e("v-uni-text",{staticClass:"lebel"},[t._v("密码:")]),e("v-uni-input",{staticClass:"uni-input",attrs:{password:!0,placeholder:"请输入密码"},on:{confirm:function(n){arguments[0]=n=t.$handleEvent(n),t.login()}},model:{value:t.password,callback:function(n){t.password=n},expression:"password"}})],1),e("v-uni-view",{staticClass:"submit"},[e("v-uni-button",{attrs:{type:"primary",loading:t.submiting,disabled:t.submiting,size:"mini"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.login()}}},[t._v("登 录")])],1),e("v-uni-view",{staticClass:"setting"},[e("v-uni-button",{attrs:{size:"mini",type:"default"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.cancelShow=!0}}},[e("i",{staticClass:"iconfont iconziyuan"}),t._v("环境设置")])],1)],1),t.cancelShow?e("hFormAlert",{attrs:{title:t.base.BASE_URL+"(当前)",name:"host",placeholder:"请输入请求地址"},on:{confirm:function(n){arguments[0]=n=t.$handleEvent(n),t.confirm.apply(void 0,arguments)},cancel:function(n){arguments[0]=n=t.$handleEvent(n),t.cancel.apply(void 0,arguments)}}}):t._e()],1)},o=[];e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return i}))},"8a79":function(t,n,e){"use strict";var i=e("23e7"),a=e("06cf").f,o=e("50c4"),r=e("5a34"),s=e("1d80"),c=e("ab13"),u=e("c430"),l="".endsWith,d=Math.min,f=c("endsWith"),p=!u&&!f&&!!function(){var t=a(String.prototype,"endsWith");return t&&!t.writable}();i({target:"String",proto:!0,forced:!p&&!f},{endsWith:function(t){var n=String(s(this));r(t);var e=arguments.length>1?arguments[1]:void 0,i=o(n.length),a=void 0===e?i:d(o(e),i),c=String(t);return l?l.call(n,c,a):n.slice(a-c.length,a)===c}})},"8c86":function(t,n,e){var i=e("24fb");n=i(!1),n.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.login[data-v-dce0001c]{width:100vw;height:100vh;background-color:#2a2a36}.login .login-box[data-v-dce0001c]{width:80vw;height:%?520?%;background-color:#fff;position:fixed;padding:0 %?30?%;left:50%;top:50%;-webkit-transform:translate(-50%,-70%);transform:translate(-50%,-70%);border-radius:5px}.login .login-box .title[data-v-dce0001c]{text-align:center;padding:%?30?% 0 %?60?% 0;font-size:%?40?%;font-weight:700}.login .login-box .login-input[data-v-dce0001c]{display:-webkit-box;display:-webkit-flex;display:flex}.login .login-box .login-input .lebel[data-v-dce0001c]{font-size:%?30?%;line-height:%?65?%;width:%?120?%;height:%?65?%}.login .login-box .login-input uni-input[data-v-dce0001c]{border-bottom:1px solid #ccc;border-radius:2px;width:%?500?%;height:%?65?%;padding:0 %?16?%;font-size:%?30?%}.login .login-box .login-input[data-v-dce0001c]:nth-last-child(2){margin-top:%?40?%}.login .login-box .submit[data-v-dce0001c]{text-align:center;margin-top:%?40?%}.login .login-box .submit uni-button[data-v-dce0001c]{width:100%;padding:%?10?% 0}.login .login-box .setting[data-v-dce0001c]{margin-top:%?10?%;text-align:center;font-size:%?30?%}',""]),t.exports=n},"994a":function(t,n,e){"use strict";e.r(n);var i=e("6b8c"),a=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(n,t,(function(){return i[t]}))}(o);n["default"]=a.a},a0a5:function(t,n,e){"use strict";e.r(n);var i=e("4278"),a=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(n,t,(function(){return i[t]}))}(o);n["default"]=a.a},c2c2:function(t,n,e){"use strict";e.r(n);var i=e("77a71"),a=e("994a");for(var o in a)"default"!==o&&function(t){e.d(n,t,(function(){return a[t]}))}(o);e("424c");var r,s=e("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"dce0001c",null,!1,i["a"],r);n["default"]=c.exports},c2d4:function(t,n,e){var i=e("231b");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=e("4f06").default;a("5d68b166",i,!0,{sourceMap:!1,shadowMode:!1})}}]);